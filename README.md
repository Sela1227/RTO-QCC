# 彰濱放腫體重監控預防系統 - Web 版

放射線治療病人體重監控與營養介入管理系統的 Web 版本。

## 特點

- 🌐 **純網頁應用** - 無需安裝，瀏覽器直接使用
- 💾 **本地儲存** - 資料存在瀏覽器，保護病人隱私
- 📱 **跨平台** - Windows / macOS / 手機都能用
- 🎨 **北歐風設計** - 簡約美觀、大量留白

## 快速開始

### 方法一：直接開啟

雙擊 `index.html` 即可使用。

### 方法二：本地伺服器（推薦）

```bash
# Python 3
cd weight-tracker-web
python -m http.server 8000

# 然後開啟 http://localhost:8000
```

### 方法三：部署到 GitHub Pages

1. 建立 GitHub Repository
2. 上傳所有檔案
3. 到 Settings → Pages → Source 選擇 `main` branch
4. 等待幾分鐘後即可使用

## 功能

- ✅ 病人管理（新增、編輯、搜尋）
- ✅ 療程管理（新增、暫停、恢復、結案）
- ✅ 體重記錄（記錄、編輯、刪除）
- ✅ 自動警示（SDM、營養師轉介）
- ✅ 介入管理（執行、跳過、手動）
- ✅ 統計報表（圖表、Excel 匯出）
- ✅ 資料備份（匯出 / 匯入 JSON）

## 資料儲存

資料存在瀏覽器的 IndexedDB 中：
- 關閉瀏覽器不會遺失
- 清除瀏覽器資料會遺失
- 建議定期使用「設定 → 匯出備份」

## 多機同步

1. 在 A 電腦：設定 → 匯出備份
2. 複製 JSON 檔案到 B 電腦
3. 在 B 電腦：設定 → 匯入還原

## 瀏覽器支援

- Chrome 80+
- Firefox 75+
- Safari 14+
- Edge 80+

## 檔案結構

```
weight-tracker-web/
├── index.html      # 主頁面
├── css/
│   └── style.css   # 樣式
└── js/
    ├── app.js      # 主程式
    ├── db.js       # 資料庫
    ├── patient.js  # 病人模組
    ├── treatment.js # 療程模組
    ├── weight.js   # 體重模組
    ├── intervention.js # 介入模組
    ├── report.js   # 報表模組
    ├── settings.js # 設定模組
    └── utils.js    # 工具函數
```

## 版本

v3.9 Web - 2024
- 新增營養轉介單 PDF 生成功能
- 執行營養師介入時可生成「癌症資源中心轉介單」
- 支援轉介同仁下拉選擇、轉介需求勾選
- 新增體重趨勢圖點擊放大功能

v3.8 Web
- 簡化密碼設定，改密碼直接編輯 config.js
- 拿掉系統內改密碼功能

v3.5 Web
- 手機版頂部顯示 SELA Logo（替換原本圓點圖示）
- 資料庫表格手機版可水平滾動
- 手機版篩選區塊改為垂直排列
- 修復手機版各種顯示問題
- 壓縮 Logo 圖片（168KB → 13KB）

v3.4 Web
- 修復 Logo 尺寸問題（固定 48x48px）
- 儀表板新增備份提醒（超過一週未備份會顯示警示）
- 資料庫新增篩選功能（療程狀態、癌別）
- 顯示病人總數

v3.3 Web
- 側邊欄版本號處新增 SELA Logo（壁虎圖案）
- 設定新增「暫停原因」管理（新增/刪除/排序）
- 暫停療程改用下拉選擇 + 手填方式

v3.2 Web
- 響應式設計：手機版底部導航、自動調整佈局
- 預置10位測試病人（含體重記錄、待處理介入）
- 儀表板統計卡片再放大（數字42px、圖示64px）
- 治療清單緊湊化：左欄55%、病人卡片140px、詳情緊湊顯示

v3.1 Web
- 整體頁面放大：字體、間距、統計卡片、病人卡片
- 儀表板統計卡片可點擊篩選（治療中/暫停中/需處理/待輸體重）

v3.0 Web
- PDF 匯出改用截圖方式，完整呈現圖表（解決中文亂碼）
- 病人小卡操作按鈕移到最上方

v2.9 Web
- 系統名稱更改為「彰濱放腫體重監控預防系統」
- 首頁改名「儀表板」，統計卡片 2x2 佈局
- 追蹤清單改名「治療清單」
- 病人頁籤改名「資料庫」，移到報表下方
- 暫停中病人只有「恢復療程」和「提早終止」
- 統計報表可匯出 PDF

v2.8 Web
- 手動介入改用選項：SDM/營養師/鼻胃管/胃造廔
- 統計體重變化分布加入「極嚴重 (<-10%)」
- 追蹤頁直接顯示暫停/完成/終止療程按鈕

v2.7 Web
- 記錄體重時顯示最近一次體重日期和資料
- 統計報表可選擇指定年份
- 追蹤頁可暫停/恢復療程

v2.6 Web
- 可刪除病人（雙重確認：需輸入病歷號）
- 無法量測時，第一次記錄體重成為基準值
- 體重趨勢圖起始日期為第一次有效體重記錄日期

v2.5 Web
- 系統名稱更改為「彰濱放腫體重監控預防系統」
- 設定介面優化，操作按鈕更簡潔
- 首頁新增「暫停中」統計卡片
- 「待介入」改為「需處理」、「逾期」改為「待輸體重」
- 頁籤「追蹤」改為「清單」
- 無法量測時第一次記錄的體重變為基準體重
- 體重記錄可選擇「無法測量」

v2.4 Web
- 癌別設定可排序（上下移動）
- 警示規則可新增、刪除、編輯、排序
- 報表支援時間區間篩選（週/月/年/自訂）
- 報表支援癌別篩選

v2.3 Web
- 病歷號重複時顯示舊病人資料
- 搜尋功能移到病人管理頁
- 預設人員改為：王孝宇、陳詩韻、廖芝穎
- 勾選無法測量時禁用體重輸入

v2.2 Web
- 介入執行可選擇日期（預設當天）
- 手動介入可選擇日期和執行人員
- 介入記錄顯示執行日期

v2.1 Web
- 體重趨勢圖從基準值開始
- 加入 -3% (SDM) 和 -5% (營養) 警示線

## 授權

MIT License - 彰濱秀傳紀念醫院
